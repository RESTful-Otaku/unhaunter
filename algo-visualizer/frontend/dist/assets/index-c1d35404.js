(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function f(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=f(e);fetch(e.href,t)}})();const a=document.getElementById("canvas"),r=a.getContext("2d"),b=document.getElementById("start"),S=document.getElementById("pause"),E=document.getElementById("reset");let u,c=!1,l=0,d=[],B=500;async function L(o=10){return await(await fetch("/api/sort",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"sort",params:{algorithm:"bubble",size:o}})})).json()}function m(o,n=-1,f=-1){r.clearRect(0,0,a.width,a.height);const i=a.width/o.length,e=Math.max(...o);o.forEach((t,s)=>{const p=t/e*(a.height-40),y=s*i,h=a.height-p-20;s===n||s===f?r.fillStyle="red":r.fillStyle="blue",r.fillRect(y,h,i-2,p),r.fillStyle="black",r.font="12px Arial",r.textAlign="center",r.fillText(t.toString(),y+i/2,h-5)})}function g(){if(c&&l<d.length){const n=d[l].data;m(n.array,n.i,n.j),l++,setTimeout(()=>{u=requestAnimationFrame(g)},B)}else c=!1}b.addEventListener("click",async()=>{c||(d=await L(10),l=0,c=!0,g())});S.addEventListener("click",()=>{c=!1,cancelAnimationFrame(u)});E.addEventListener("click",()=>{c=!1,cancelAnimationFrame(u),l=0,d.length>0&&m(d[0].data.array)});m([1,2,3,4,5,6,7,8,9,10]);
